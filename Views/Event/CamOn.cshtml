@model EventManager.Models.EventModel
@{
    ViewData["Title"] = "Cảm ơn";
    var qr = TempData["QrBase64"] as string;
    var eventName = TempData["EventName"] as string;
    var seatNumber = TempData["Seat"] as string;
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />

<style>
    body {
        font-family: 'Segoe UI', sans-serif;
        background: linear-gradient(145deg, #ffeaf5, #ffffff);
        color: #333;
    }

    .container {
        max-width: 600px;
    }

    .thankyou-wrapper {
        background: #ffffff;
        border-radius: 20px;
        padding: 2.5rem 2rem 2rem;
        margin-top: 3rem;
        box-shadow: 0 12px 30px rgba(255, 143, 188, 0.25);
        border: 1px solid #ffd6eb;
    }

    h2 {
        color: #ff6fa6;
        font-weight: 800;
        text-shadow: 0 0 8px rgba(255, 182, 210, 0.7);
        letter-spacing: 0.5px;
    }

        h2 i {
            color: #ff8fbf;
        }

    p {
        color: #555;
        font-size: 1.05rem;
    }

    .highlight-movie {
        color: #ff4f93;
        font-weight: 600;
    }

    .qr-code img {
        width: 200px;
        border: 2px solid #ffb6d9;
        border-radius: 16px;
        box-shadow: 0 10px 24px rgba(255, 157, 204, 0.55);
        background: #fff;
    }

    .text-muted {
        color: #a66d8b !important;
        font-size: 0.95rem;
    }

    .text-danger {
        color: #e53935 !important;
    }

    .seat-info {
        color: #ff4f93;
        font-weight: 600;
        font-size: 1.1rem;
        background: #fff7fc;
        border: 1px solid #ffc1e1;
        border-radius: 999px;
        padding: 0.4rem 1.3rem;
        display: inline-flex;
        align-items: center;
        gap: 6px;
        margin-top: 1rem;
    }

        .seat-info i {
            font-size: 1.2rem;
            color: #ff7fb6;
        }

    .btn-back {
        background: #ff7fb6;
        border: none;
        color: #fff;
        font-weight: 600;
        border-radius: 999px;
        padding: 0.6rem 1.6rem;
        margin-top: 2rem;
        box-shadow: 0 10px 24px rgba(255, 143, 188, 0.6);
        transition: all 0.2s ease;
        font-size: 0.95rem;
    }

        .btn-back:hover {
            background-color: #ff5f9f;
            box-shadow: 0 14px 30px rgba(255, 143, 188, 0.8);
        }

    .subtitle {
        font-size: 0.98rem;
        color: #777;
    }
</style>

<div class="container mt-5">
    <div class="thankyou-wrapper text-center">
        <h2>
            <i class="bi bi-check-circle-fill me-2"></i>
             Bạn đã đặt vé thành công!
        </h2>
        <p class="mt-3">
            Cảm ơn bạn đã đặt vé xem phim
            <span class="highlight-movie">@eventName</span> trên CineMate.
        </p>

        @if (!string.IsNullOrEmpty(seatNumber))
        {
            <div class="seat-info">
                <i class="bi bi-chair"></i>
                <span>Ghế của bạn: <strong>@seatNumber</strong></span>
            </div>
        }

        <div class="qr-code mt-4">
            @if (!string.IsNullOrEmpty(qr))
            {
                <p class="subtitle mb-2">
                    Đây là mã QR dùng để nhận vé / check-in tại quầy:
                </p>
                <img src="data:image/png;base64,@qr" alt="Mã QR Check-in" />
                <p class="text-muted mt-3">
                    <i class="bi bi-envelope-fill me-1"></i>
                    Mã QR cũng đã được gửi tới email của bạn.
                </p>
            }
            else
            {
                <p class="text-danger mt-3">
                    <i class="bi bi-exclamation-triangle-fill me-1"></i>
                    Không thể hiển thị mã QR.
                </p>
            }
        </div>

    </div>
</div>
